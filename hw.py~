#!/usr/bin/env python

import os
from time import sleep
from OSC import OSCClient, OSCMessage
import RPi.GPIO as GPIO

GPIO.setmode(GPIO.BCM)
GPIO.setup(5, GPIO.IN)
GPIO.setup(13, GPIO.IN)
GPIO.setup(16, GPIO.OUT)

client = OSCClient()
client.connect( ("127.0.0.1", 57122) )

while True:
	if (GPIO.input(5) == False):
		os.system('echo "button 1 pressed"')
		GPIO.output(16, True)
	if (GPIO.input(13) == False):
		os.system('echo "button 2 pressed"')
		GPIO.output(16, False)
	sleep(0.01)

def buttonPressed(butt):
  obj = OSCMessage("/b/p", butt)
  client.send(obJ)

def buttonReleased(butt):
  obj = OSCMessage("/b/r", butt)
  client.send(obj)
